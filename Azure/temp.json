{  "properties": {    "displayName": "ai102_mod04",    "policyType": "Custom",    "mode": "Indexed",    "metadata": {      "createdBy": "69d563db-e4f3-4bd3-be8c-44926ea56a7d",      "createdOn": "2022-03-31T13:21:23.9595575Z",      "updatedBy": null,      "updatedOn": null    },    "policyRule": {      "if": {        "not": {          "anyOf": [            {              "allof": [                {                  "field": "type",                  "equals": "Microsoft.ContainerInstance/containerGroups"                },                {                  "field": "name",                  "in": [                    "[concat('ai',resourcegroup().tags.LabInstance)]"                  ]                },                {                  "field": "location",                  "In": [                    "eastus"                  ]                },                {                  "field": "Microsoft.ContainerInstance/containerGroups/containers[*].resources.requests.memoryInGB",                  "equals": 4                },                {                  "field": "Microsoft.ContainerInstance/containerGroups/containers[*].resources.requests.cpu",                  "equals": 1                },                {                  "field": "Microsoft.ContainerInstance/containerGroups/containers[*].resources.requests.gpu.count",                  "exists": false                },                {                  "field": "location",                  "notEquals": "global"                }              ]            },            {              "field": "type",              "contains": "Microsoft.CognitiveServices/accounts"            },            {              "field": "type",              "contains": "Microsoft.KeyVault/vaults"            },            {              "field": "type",              "contains": "microsoft.insights/activityLogAlerts"            }          ]        }      },      "then": {        "effect": "Deny"      }    }  },  "id": "/subscriptions/f6b7380e-b1f0-484f-9858-1e4d1892cf99/providers/Microsoft.Authorization/policyDefinitions/policy1282",  "type": "Microsoft.Authorization/policyDefinitions",  "name": "policy1282",  "systemData": {    "createdBy": "45587fa8-5f05-46d9-8d71-595d74062152",    "createdByType": "Application",    "createdAt": "2022-03-31T13:21:23.9203527Z",    "lastModifiedBy": "45587fa8-5f05-46d9-8d71-595d74062152",    "lastModifiedByType": "Application",    "lastModifiedAt": "2022-03-31T13:21:23.9203527Z"  }}
